Parse â† {
  p â† âŠâŸœ':'âŠ¸(â†‘â‹ˆÂ·(+`Ã—Â¬)âŠ¸-âˆ˜=âŸœ' 'âŠ¸âŠ”2âŠ¸+âŠ¸â†“)Â¨â€¢FLines ğ•©
  m â† "you"â€¿"svr"â€¿"dac"â€¿"fft"â€¿"out"â€¢HashMapâ†•5
  p {m.SetâŸœ(m.Count@)âŸ(Â¬m.Has)ğ•© â‹„ m.Get ğ•©}âš‡1 â†©
  (1âŠ‘Â¨p)âŒ¾((âŠ‘Â¨p)âŠ¸âŠ)âŸ¨âŸ¨âŸ©âŸ©â¥ŠËœm.Count@
}
Out   â† â€¢Out"  "âˆ¾âˆ¾âŸœ": "âŠ¸âˆ¾âŸœâ€¢Fmt

_calculate â† {gâ†ğ•— â‹„ {(ğ•¨âŠ‘ğ•©)âŠ¸+âŒ¾((ğ•¨âŠ‘g)âŠ¸âŠ)ğ•©}Â´}
Toposort   â† {n ğ•Š g: tâ†âŸ¨âŸ© â‹„ vâ†0â¥ŠËœâ‰ g â‹„ {ğ•©âŠ‘v? @; v 1âŒ¾(ğ•©âŠ¸âŠ‘)â†© â‹„ ğ•ŠÂ¨ğ•©âŠ‘g â‹„ tâˆ¾â†©ğ•©}n}

â€¢Out"Part 1:"
OutâŸœ({4âŠ‘(1âŒ¾âŠ‘0â¥ŠËœâ‰ ğ•©)ğ•© _calculate 0 Toposort ğ•©}Parse)Â¨"sample1"â€¿"input"

â€¢Out"Part 2:"
OutâŸœ({ğ•Š g:
  t â† 1 Toposort g
  âŸ¨iâ€¿j, aâ€¿bâŸ© â† â‹âŠ¸(âŠâŸœ2â€¿3â‹ˆ1+âŠ)tâŠ2â€¿3
  C â† g _calculate
  F â† {pÃ—ğ•©=â†•â‰ g}
  p â† (1âŒ¾(1âŠ¸âŠ‘)0â¥ŠËœâ‰ g)C bâ†“t
  p â†© (F j)C aâ†“t â†‘Ëœ â†© b
  4âŠ‘(F i)C aâ†‘t
}Parse)Â¨"sample2"â€¿"input"
